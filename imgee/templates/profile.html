{% extends "layout.html" %}
{% from 'baseframe/forms.html' import renderform %}

{% block title %}{{ profile.title }}{% endblock %}

{% block footerscripts %}
<script type="text/javascript" src="{{url_for('static', filename='js/jquery.jeditable.min.js')}}"></script>
<script> var profile = '{{g.user.profile_name}}'; </script>
<script type="text/javascript" src="{{url_for('static', filename='js/edit_in_place.js')}}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/list-grid.js') }}"></script>

{% endblock %}


{% block albumcontent %}
    <div class="span10">
        {{ title_form.hidden_tag() }}
        {% if files %}
        <div class="row">
            <div class="list-grid-selector span10">
                <div class="btn-group">
                    <a href="#" id="gridview" class="btn switcher active"><i class="icon-th-large"></i>&nbsp;&nbsp;Thumbnails</a>
                    <a href="#" id="listview" class="btn switcher"><i class="icon-list"></i>&nbsp;&nbsp;Detailed view</a>
                </div>
            </div>
        </div>
        {% endif %}
        {% if unlabelled %}
            {% if profile.labels %}
                <div class="heading note">Unlabeled-image Archive</div>
            {% else %}
                <div class="heading note">Archived Images</div>
            {% endif %}
            <br />
        {% endif %}
        <div class="albumpage row">
            {% if files %}
                <div class="gallery span10">
                    <ul id="showcase" class="grid">
                        {% for img in files %}
                            <li class="image">
                                <section class="left">
                                    <div class="image-thumb">
                                        <a href="{{url_for('view_image', profile=g.user.profile_name, img_name=img.name)}}" title="view image">
                                            <img src="{{url_for('get_thumbnail', profile=g.user.profile_name, img_name=img.name)}}"/>
                                        </a>
                                    </div>
                                </section>
                                <section class="right">
                                    <div class="title editable_title" id="{{img.name}}">{{img.title}}</div>
                                    <div class="labels">
                                        {% for label in img.labels %}
                                            <span class="label">
                                                <a href="{{url_for('show_label', profile_name=img.profile.name, label_name=label.name)}}">{{label.name}}</a>
                                            </span>
                                        {% endfor %}
                                    </div>
                                </section>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% else %}
            <div class="span10">
                {% if unlabelled %}
                Hurray! Not a single image is without a label.
                {% else %}
                There are no images uploaded yet. <a href="{{url_for('upload_file', profile=g.user.profile_name)}}">Upload them.</a>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>
{% endblock %}



